"use strict";(self.webpackChunkdata=self.webpackChunkdata||[]).push([[883],{9883:function(e,n,s){s.r(n),s.d(n,{default:function(){return O}});var t,a=s(3433),i=s(9439),r=s(2791),o=s(6358),l=s(1134),c=s(9085),u=s(1197),d=s(5336),m=s(175),x=s(7408),h=s(168),f=s(7691).ZP.div(t||(t=(0,h.Z)(["\n  .head {\n    padding: 8px;\n    box-shadow: 0 0.05em 0.05em 0 rgba(0, 0, 0, 0.25),\n      0 0.4em 1em 0 rgba(0, 0, 0, 0.15) !important;\n  }\n\n  @media screen and (max-width: 425px) {\n    .head {\n      h1 {\n        font-size: 16px;\n        text-align: center;\n      }\n    }\n  }\n"]))),v=s(868),j=s(7589),p=s(824),b=s(3314),g=s(4641),Z=s(5157),y=s(9042),I=s(184);var N=function(e){var n=e.isOpen,s=e.onClose,t=(0,r.useContext)(y.ZP).authUser,a="20000",i=(null===t||void 0===t?void 0:t.user.lastName)||"",o=(null===t||void 0===t?void 0:t.user.firstName)||"",l=(null===t||void 0===t?void 0:t.user.email)||"";return(0,I.jsxs)(j.u_,{isCentered:!0,onClose:s,isOpen:n,size:"md",motionPreset:"slideInBottom",children:[(0,I.jsx)(j.ZA,{}),(0,I.jsx)(j.hz,{children:(0,I.jsx)(j.fe,{children:(0,I.jsxs)(Z.AB,{children:[(0,I.jsx)("h1",{style:{marginBottom:10},children:"Make Payment"}),(0,I.jsxs)("form",{onSubmit:function(e){e.preventDefault(),(new b.Z).newTransaction({key:"pk_test_fa5805e84c03c63dbe51460e8b6add4fca372aa6",amount:2e6,lastName:i,firstName:o,email:l,onSuccess:function(e){localStorage.setItem("transaction",JSON.stringify(e)),c.Am.success("Transaction Successful Ref ".concat(e.reference),d.Z)},onCancel:function(){c.Am.error("Transaction Cancel",d.Z)}})},children:[(0,I.jsx)("div",{children:(0,I.jsx)(g.Z,{label:"First Name",children:(0,I.jsx)(p.II,{type:"text",value:o,readOnly:!0,outline:"none"})})}),(0,I.jsx)("div",{className:"inputbox",children:(0,I.jsx)(g.Z,{label:"Last Name",children:(0,I.jsx)(p.II,{type:"text",value:i,readOnly:!0,outline:"none"})})}),(0,I.jsx)("div",{className:"inputbox",children:(0,I.jsx)(g.Z,{label:"Email",children:(0,I.jsx)(p.II,{type:"text",value:l,outline:"none",readOnly:!0})})}),(0,I.jsx)("div",{className:"inputbox",children:(0,I.jsx)(g.Z,{label:"Amount",children:(0,I.jsx)(p.II,{type:"text",required:!0,value:a,outline:"none",readOnly:!0})})}),(0,I.jsx)("div",{className:"btn",children:(0,I.jsx)("button",{type:"submit",className:"reset_btn",children:"Pay"})})]})]})})})]})};var O=function(){var e=(0,u.qY)(),n=e.isOpen,s=e.onOpen,t=e.onClose,h=(0,l.cI)(),j=h.register,p=h.handleSubmit,b=h.watch,g=h.reset,Z=h.setValue,y=(0,r.useState)([]),O=(0,i.Z)(y,2),C=O[0],S=O[1],A=(0,r.useState)([]),w=(0,i.Z)(A,2),k=w[0],P=w[1],L=b();(0,r.useEffect)((function(){if(!(C.length<1)){var e=[];C.forEach((function(n){return e.push(URL.createObjectURL(n))})),P(e)}}),[C]);var E=(0,x.useMutation)(m.j0,{onSuccess:function(e){c.Am.success(null===e||void 0===e?void 0:e.message,d.Z)},onError:function(e){c.Am.error(null===e||void 0===e?void 0:e.message,d.Z)}}),D=E.mutate,R=E.isLoading;return(0,I.jsxs)(f,{children:[(0,I.jsx)("div",{className:"head",children:(0,I.jsx)("h1",{children:"Please Add Missing Person Details"})}),(0,I.jsx)("form",{onSubmit:p((function(e){console.log(e);var n=new FormData;C.length>3||(Array.from(C).forEach((function(e){n.append("products",e)})),D({data:e,url:v.sx}),g())})),children:(0,I.jsx)(o.Z,{formType:"missing",formData:L,register:j,setValue:Z,isLoading:R,onOpen:s,onImageChange:function(e){S((0,a.Z)(e.target.files))},ImageURLs:k})}),(0,I.jsx)(N,{onClose:t,isOpen:n})]})}}}]);
//# sourceMappingURL=883.227bbd29.chunk.js.map